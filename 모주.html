check = true;
const save = {};
function response( room, msg, sender, isGroupChat, replier, imageDB ) {
switch(msg){
	
	
    case 'ë„¤ì„':    
    replier.reply("ì€ ì½”ì•Œë¼!ğŸ¨");
    break;
    
    case 'ëª¨ì£¼ì•¼':    
    if(sender == "bjy0212(ë‹‰ë„´421)"){
    replier.reply("ìš°ë¦¬ì˜ ìŠ¤ìŠ¹ë‹˜, "+sender+" !!!ğŸ¤“");
    }else if(sender == "í•˜ìˆœëª¨ì£¼"){
    replier.reply("ë„¤, "+sender+" ì£¼ì¸ë‹˜. ì ˆ ë¶€ë¥´ì…¨ë‚˜ìš”?ğŸ¤—");
    }else{
    replier.reply("ë°˜ê°€ì›Œìš”, "+sender+" ë‹˜!â˜ºï¸");
    }
    break;
  
    case 'íšŒì›ê°€ì…':
    if(save[sender]){
      replier.reply(sender+" ë‹˜ì€ ì´ë¯¸ íšŒì›ê°€ì…ì„ í•˜ì…¨ìŠµë‹ˆë‹¤.");
    }
    if(!save[sender]){
      save[sender] = {"bell" : 100, "health" : 10, "a": 1, "b": 1, "ë¬´ê¸°": 0};
      replier.reply("íšŒì›ê°€ì… ì™„ë£Œ");
    }
    break;
 
    case 'ì •ë³´':
    if(!save[sender]){
      replier.reply(sender+" ë‹˜, íšŒì›ê°€ì…ì„ ë¨¼ì € í•´ì£¼ì„¸ìš”.");
    }
    if(save[sender]){
    replier.reply(sender+" ë‹˜ì˜ ì •ë³´ì…ë‹ˆë‹¤\n\nâ¤ ì²´ë ¥: "+save[sender]["health"]+"\nğŸ”” ë²¨: "+save[sender]["bell"]+"\n\nğŸ—¡ë¬´ê¸°: "+save[sender]["ë¬´ê¸°"]);
    }
    break;
    
    case 'ê°•í™”':
    if(!save[sender]){
     replier.reply(sender+" ë‹˜, íšŒì›ê°€ì…ì„ ë¨¼ì € í•´ì£¼ì„¸ìš”.");
    }
    
  if(save[sender]){
    if(check){
    if(save[sender]["bell"] < 50 ){
      replier.reply("ë²¨ì´ ë¶€ì¡±í•©ë‹ˆë‹¤");
      return;
    }
    if(save[sender]["bell"] >= 50 ){
    save[sender]["bell"] = save[sender]["bell"] - 50;
	  replier.reply("[   ğŸ””    - 50   ]\n\n"+sender+" ë‹˜ì´ ê°•í™”ë¥¼ ì‹œë„í•˜ëŠ” ì¤‘ ì…ë‹ˆë‹¤\n\n[   ì†Œìš”ì‹œê°„:  3ì´ˆ   ]");
      check = false;
	  java.lang.Thread.sleep(3000);
      check = true;
    
    let c = Math.floor(Math.random() * 100);
    if(c <= 65){
      save[sender]["a"] = save[sender]["a"] + save[sender]["b"];
    let d = save[sender]["a"] - save[sender]["b"];
        replier.reply(sender+" ë‹˜ì˜ ìš”ìˆ ë´‰ì´\nâœ¨ê°•í™”ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤!\n\n[   ğŸ§¨  "+d+"    + "+save[sender]["b"]+"   ]");
    }
    
      else if(c <= 73){
      save[sender]["a"] = save[sender]["a"] + 3*save[sender]["b"];
    let d = save[sender]["a"] - 3*save[sender]["b"];
        replier.reply("[í¬ë¦¬í‹°ì»¬]\n"+sender+" ë‹˜ì˜ ìš”ìˆ ë´‰ì´\n âœ¨ê°•í™”ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤!\n\n[   ğŸ§¨  "+d+"    + "+3*save[sender]["b"]+"   ]");
    }
    
    else if(c <= 77){
        save[sender]["a"] = Math.floor(save[sender]["a"]/2); 
        replier.reply(sender+" ë‹˜ì˜ ìš”ìˆ ë´‰ì´\nğŸ’«ì €ì£¼ì— ê±¸ë ¸ìŠµë‹ˆë‹¤...\n\n[   ğŸ§¨    "+save[sender]["a"]+"   ]");
    }

    else{
        save[sender]["a"] = save[sender]["a"] - 2*save[sender]["b"];
    let d = save[sender]["a"] + 2*save[sender]["b"];
          replier.reply(sender+" ë‹˜ì˜ ìš”ìˆ ë´‰ì´\nğŸ˜¢ê°•í™”ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤..\n\n[   ğŸ§¨  "+d+"    - "+2*save[sender]["b"]+"   ]");
    }
    
    if(save[sender]["a"] <= 0){
      replier.reply("...\n"+sender+" ë‹˜ì˜ ìš”ìˆ ë´‰ì´ í‘-ğŸ’¥í•˜ê³  í„°ì¡ŒìŠµë‹ˆë‹¤.\n\n[   ğŸ§¨     1   ]"); 
      save[sender]["b"] = 1;
      save[sender]["a"] = 1;
     }
   }
   }
   }
   break;

  case 'ìŠ¬ë¼ì„':
    if(!save[sender]){
     replier.reply(sender+" ë‹˜, íšŒì›ê°€ì…ì„ ë¨¼ì € í•´ì£¼ì„¸ìš”.");
    }
    
    if(save[sender]){
    let c = Math.floor(Math.random() * 100);
    if(c <= 80){
    save[sender]["bell"] = save[sender]["bell"] + 10;
    let d = save[sender]["bell"]-10
      replier.reply("ìŠ¬ë¼ì„ì„ "+sender+" ë‹˜ì˜ ìš”ìˆ ë´‰ìœ¼ë¡œ ì½•ì½• ì°”ëŸ¬ë³´ì•˜ìŠµë‹ˆë‹¤.\n\n[   ğŸ”” "+d+"    + 10   ]");
    }else{
    save[sender]["bell"] = save[sender]["bell"] + 20;
    let d = save[sender]["bell"]-20
      replier.reply("[í¬ë¦¬í‹°ì»¬]\nìŠ¬ë¼ì„ì„ "+sender+" ë‹˜ì˜ ìš”ìˆ ë´‰ìœ¼ë¡œ í‘¹í‘¹ ì°”ëŸ¬ë²„ë ¸ìŠµë‹ˆë‹¤.\n\n[   ğŸ”” "+d+"    + 20   ]");
    }
  break;
}
}
    } catch(e) {
        Api.replyRoom("ëª¨ì£¼ë´‡", e);
        Api.off("ëª¨ì£¼");
    }
}
