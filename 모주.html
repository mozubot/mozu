<pre>
check = true;
let blank = "â€‹".repeat(500);
let lastSave = new Date().getTime();
const location = ['ê´‘ìž¥', 'ìƒì ', 'ìž‘ì—…ìž¥', 'ê´‘ì‚°'];
let ê³¡ê´­ì´ = ['ë‚˜ë¬´ ê³¡ê´­ì´', 'ì²  ê³¡ê´­ì´', 'ì€ ê³¡ê´­ì´', 'ë‹¤ì´ì•„ ê³¡ê´­ì´'];
let íŒë§¤ë¬¼í’ˆ = {
  "ë‚šì‹¯ëŒ€": [{
  "ì´ë¦„": "ìž¥ë‚œê° ë‚šì‹¯ëŒ€", 
  "ê°€ê²©": "5000", 
  "ë‚´êµ¬ë„": "10", 
  "í‹°ì–´": [3, 4], 
  "ìˆ™ë ¨ë„": [], 
  "ì²´ë ¥": []}, {
  "ì´ë¦„": "ì²  ë‚šì‹¯ëŒ€", 
  "ê°€ê²©": "70000", 
  "ë‚´êµ¬ë„": "30", 
  "í‹°ì–´": [2, 3], 
  "ìˆ™ë ¨ë„": [], 
  "ì²´ë ¥": []}, {
  "ì´ë¦„": "ë™ ë‚šì‹¯ëŒ€", 
  "ê°€ê²©": "400000", 
  "ë‚´êµ¬ë„": "100", 
  "í‹°ì–´": [1, 2, 3], 
  "ìˆ™ë ¨ë„": [], 
  "ì²´ë ¥": []}, {
  "ì´ë¦„": "ì€ ë‚šì‹¯ëŒ€", 
  "ê°€ê²©": "1500000", 
  "ë‚´êµ¬ë„": "200", 
  "í‹°ì–´": [1, 2], 
  "ìˆ™ë ¨ë„": [], 
  "ì²´ë ¥": []}, {
  "ì´ë¦„": "ê¸ˆ ë‚šì‹¯ëŒ€", 
  "ê°€ê²©": "5000000", 
  "ë‚´êµ¬ë„": "200", 
  "í‹°ì–´": [1, 2], 
  "ìˆ™ë ¨ë„": [], 
  "ì²´ë ¥": []}]};
if (!FileStream.read('/sdcard/ëª¨ì£¼ë´‡/RPG.json')) {
  FileStream.write('/sdcard/ëª¨ì£¼ë´‡/RPG.json', '{}');
}
const save = JSON.parse(FileStream.read('/sdcard/ëª¨ì£¼ë´‡/RPG.json'));
function response(room, msg, sender, isGroupChat, replier, imageDB) {
  try {
    const cur = new Date().getTime();
    if (cur - lastSave >= 3600000) {
      FileStream.write('/sdcard/ëª¨ì£¼ë´‡/RPG.json', JSON.stringify(save));
      lastSave = cur;
      replier.reply("ëª¨ì£¼RPGëŠ” í˜‘ë™ ë° êµë¥˜ ê²Œìž„ìž…ë‹ˆë‹¤");
    }
    if (msg == "íšŒì›ê°€ìž…") {
      const id = java.lang.String(imageDB.getProfileImage()).hashCode();
      if (save[sender] && save[sender].id != id) {
        replier.reply(sender + " ëŠ”(ì€) ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ë‹‰ë„¤ìž„ìž…ë‹ˆë‹¤");
        replier.reply("ã†ì´ ê²Œìž„ì´ ì²˜ìŒì´ì‹œë¼ë©´\në‹¤ë¥¸ ë‹‰ë„¤ìž„ìœ¼ë¡œ íšŒì›ê°€ìž…ì„ ì‹œë„í•´ì£¼ì„¸ìš”\n\nã†ì´ ê²Œìž„ì´ ì²˜ìŒì´ ì•„ë‹ˆì‹œë¼ë©´\ní•˜ìˆœëª¨ì£¼ ë‹˜í•œí…Œ ê°œì¸í†¡ìœ¼ë¡œ ë¬¸ì˜í•˜ì„¸ìš”");
        return;
      }
    }
    switch (msg) {
      case 'íšŒì›ê°€ìž…':
        if (save[sender]) {
          replier.reply(sender + " ë‹˜ì€ ì´ë¯¸ íšŒì›ê°€ìž…ì„ í•˜ì…¨ìŠµë‹ˆë‹¤.");
          return;
        }
        if (!save[sender]) {
          save[sender] = {
  "id": java.lang.String(imageDB.getProfileImage()).hashCode(), 
  "bell": 10000, 
  "ê°•ìˆ˜": 1, 
  "ê°•ëŠ¥": 1, 
  "location": location[0], 
  "hp": [1000, 1000], 
  "lastT": new Date().getTime()};
          replier.reply("íšŒì›ê°€ìž… ì™„ë£Œ");
        }
        break;
      case 'ì •ë³´':
        if (!save[sender]) {
          replier.reply(sender + " ë‹˜, íšŒì›ê°€ìž…ì„ ë¨¼ì € í•´ì£¼ì„¸ìš”");
        }
        if (save[sender]) {
          replier.reply(sender + " ë‹˜ì˜ ì •ë³´ìž…ë‹ˆë‹¤\n\nìž¥ì†Œ: " + save[sender]["location"] + "\n\nâ¤ ì²´ë ¥: " + save[sender]["hp"][0] + "/" + save[sender]["hp"][1] + "\nðŸ”” ë²¨: " + save[sender]["bell"] + "\n\nðŸ—¡ ë¬´ê¸°: " + (save[sender]["ë¬´ê¸°"] ? save[sender]["ë¬´ê¸°"] : "ì—†ìŒ") + "\nðŸ§¨ ë¬´ê¸° ê°•í™”ìˆ˜ì¹˜: " + save[sender]["ê°•ìˆ˜"]);
        }
        break;
      case 'ì„¸ì´ë¸Œ':
        FileStream.write('/sdcard/ëª¨ì£¼ë´‡/RPG.json', JSON.stringify(save));
        replier.reply("ì„¸ì´ë¸Œ ì™„ë£Œ");
        break;
    }
    let query = msg.substring(msg.split(' ')[0].length + 1);
    switch (msg.split(' ')[0]) {
      case 'ì´ë™':
        if (location.indexOf(query) != -1) {
          save[sender]["location"] = query;
          replier.reply(query + "(ìœ¼)ë¡œ ì´ë™í•©ë‹ˆë‹¤");
        }
        break;
      case 'êµ¬ë§¤':
        if (íŒë§¤ë¬¼í’ˆ.indexOf(query) != -1) {
          save[sender]["location"] = query;
        }
        break;
    }
    if (save[sender] && save[sender]["location"] == "ê´‘ìž¥") {
      let dis = cur - save[sender]["lastT"];
      if (dis > 5000) {
        const count = Math.floor(dis / 5000);
        save[sender]["lastT"] += 5000 * count;
        if (save[sender]["hp"][0] < save[sender]["hp"][1]) 
          save[sender]["hp"][0] += Math.floor(save[sender]["hp"][1] / 500);
        if (save[sender]["hp"][0] > save[sender]["hp"][1]) 
          save[sender]["hp"][0] = save[sender]["hp"][1];
      }
    }
  }  catch (e) {
  Api.replyRoom("ëª¨ì£¼ë´‡", e + "\nì¤„ ë²ˆí˜¸: #" + e.lineNumber);
  }
}
</pre>
